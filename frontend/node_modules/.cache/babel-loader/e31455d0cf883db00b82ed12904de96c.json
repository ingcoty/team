{"ast":null,"code":"var _jsxFileName = \"/home/carloscabas/pruebas/prueba_front/team/frontend/src/components/ModalProductos.js\";\nimport React, { Component } from 'react';\nimport { Modal, Form, Header, Button } from \"semantic-ui-react\";\nimport Axios from 'axios';\nimport ErrorMsg from './ErrorMsg';\n\nclass ModalProductos extends Component {\n  constructor(props) {\n    super(props);\n\n    this.createProduct = event => {\n      event.preventDefault();\n      const data = {\n        id: this.state.id,\n        description: this.state.description,\n        price: this.state.price\n      };\n      console.log(data);\n      const tokens = JSON.parse(sessionStorage.getItem('loginState'));\n\n      if (this.state.edit) {\n        Axios.put(this.props.url, {\n          data\n        }, {\n          headers: {\n            authorization: tokens.access_token\n          }\n        }).then(res => {\n          this.closeModal();\n          this.props.upDate();\n        }).catch(res => {\n          this.setState({\n            postHandler: true\n          });\n        });\n      } else {\n        Axios.post(this.props.url, {\n          data\n        }, {\n          headers: {\n            authorization: tokens.access_token\n          }\n        }).then(res => {\n          this.closeModal();\n          this.props.upDate();\n        }).catch(res => {\n          this.setState({\n            postHandler: true\n          });\n        });\n      }\n    };\n\n    this.getNumberId = event => {\n      this.setState({\n        id: event.target.value\n      });\n    };\n\n    this.getDescription = event => {\n      this.setState({\n        description: event.target.value\n      });\n    };\n\n    this.getPrice = event => {\n      this.setState({\n        price: event.target.value\n      });\n    };\n\n    this.closeModal = () => {\n      this.props.onClose();\n    };\n\n    this.state = {\n      id: '',\n      description: '',\n      price: '',\n      postHandler: false,\n      edit: false\n    };\n  }\n\n  componentDidMount() {\n    if (Object.keys(this.props.values).length) {\n      this.setState({\n        id: this.props.values.id\n      });\n      this.setState({\n        description: this.props.values.description\n      });\n      this.setState({\n        price: this.props.values.price\n      });\n      this.setState({\n        edit: true\n      });\n    } else {\n      this.setState({\n        edit: false\n      });\n      ;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      as: Form,\n      onSubmit: this.createProduct,\n      open: true,\n      size: \"tiny\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      icon: \"pencil\",\n      content: \"Agregar Producto\",\n      as: \"h3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Input, {\n      label: \"id\",\n      required: true,\n      type: \"number\",\n      placeholder: \"Numero de Identificacion\",\n      onChange: this.getNumberId,\n      value: this.state.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Form.Input, {\n      label: \"description\",\n      required: true,\n      type: \"text\",\n      placeholder: \"Descripcion\",\n      onChange: this.getDescription,\n      value: this.state.description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Form.Input, {\n      label: \"price\",\n      required: true,\n      type: \"number\",\n      placeholder: \"Precio\",\n      onChange: this.getPrice,\n      value: this.state.price,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }), this.state.postHandler && /*#__PURE__*/React.createElement(ErrorMsg, {\n      title: \"Error al crear cliente\",\n      description: \"Verifique que el id no est\\xE9 creado\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 40\n      }\n    })), /*#__PURE__*/React.createElement(Modal.Actions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"red\",\n      icon: \"times\",\n      content: \"Close\",\n      onClick: this.closeModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      color: \"green\",\n      icon: \"save\",\n      content: \"Save\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default ModalProductos;","map":{"version":3,"sources":["/home/carloscabas/pruebas/prueba_front/team/frontend/src/components/ModalProductos.js"],"names":["React","Component","Modal","Form","Header","Button","Axios","ErrorMsg","ModalProductos","constructor","props","createProduct","event","preventDefault","data","id","state","description","price","console","log","tokens","JSON","parse","sessionStorage","getItem","edit","put","url","headers","authorization","access_token","then","res","closeModal","upDate","catch","setState","postHandler","post","getNumberId","target","value","getDescription","getPrice","onClose","componentDidMount","Object","keys","values","length","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Modal, Form, Header, Button } from \"semantic-ui-react\";\nimport Axios from 'axios';\nimport ErrorMsg from './ErrorMsg'\n\nclass ModalProductos extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      description: '',\n      price: '',   \n      postHandler: false,\n      edit: false\n    }    \n  }\n\n  componentDidMount(){\n    if (Object.keys(this.props.values).length) {      \n      this.setState({id:this.props.values.id});\n      this.setState({description:this.props.values.description});\n      this.setState({price:this.props.values.price});     \n      this.setState({edit:true});     \n    }\n    else{\n      this.setState({edit:false});;\n    }\n  }\n\n\n  createProduct = event => {\n    event.preventDefault()\n    const data = {\n      id: this.state.id, description: this.state.description, price: this.state.price\n    }\n    console.log(data)\n    const tokens = JSON.parse(sessionStorage.getItem('loginState'))\n    if (this.state.edit) {      \n      Axios.put(this.props.url, { data }, {headers: { authorization: tokens.access_token }})\n        .then(res => {\n          this.closeModal()\n          this.props.upDate()\n        }).catch(res => {\n          this.setState({ postHandler: true })\n        }\n        )\n    }\n    else {      \n      Axios.post(this.props.url, { data }, {headers: { authorization: tokens.access_token }})\n        .then(res => {\n          this.closeModal()\n          this.props.upDate()\n        }).catch(res => {\n          this.setState({ postHandler: true })\n        }\n        )\n    }\n  }\n\n  getNumberId = event => {\n    this.setState({ id: event.target.value })\n  }\n\n  getDescription = event => {\n    this.setState({ description: event.target.value })\n  }\n\n  getPrice = event => {\n    this.setState({ price: event.target.value                                                                                                                          })\n  }\n\n  closeModal = () => {\n    this.props.onClose()\n  }\n\n  render() {\n    return (\n      <div>\n        <Modal as={Form} onSubmit={this.createProduct} open={true} size=\"tiny\">\n          <Header icon=\"pencil\" content=\"Agregar Producto\" as=\"h3\" />\n          <Modal.Content>\n            <Form.Input label=\"id\" required type=\"number\" placeholder=\"Numero de Identificacion\" onChange={this.getNumberId} value={this.state.id} />\n            <Form.Input label=\"description\" required type=\"text\" placeholder=\"Descripcion\" onChange={this.getDescription} value={this.state.description} />\n            <Form.Input label=\"price\" required type=\"number\" placeholder=\"Precio\" onChange={this.getPrice} value={this.state.price} />            \n            {this.state.postHandler && <ErrorMsg title=\"Error al crear cliente\" description=\"Verifique que el id no esté creado\" />}\n          </Modal.Content>\n          <Modal.Actions>\n            <Button color=\"red\" icon=\"times\" content=\"Close\" onClick={this.closeModal} />\n            <Button type=\"submit\" color=\"green\" icon=\"save\" content=\"Save\" />\n          </Modal.Actions>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default ModalProductos"]},"metadata":{},"sourceType":"module"}